# Birds with Friends - Environment Configuration Template
# Copy this file to .env and fill in the values for your environment

# ============================================================================
# ENVIRONMENT SETTINGS
# ============================================================================
NODE_ENV=development
DEBUG=true
LOG_LEVEL=INFO

# ============================================================================
# DATABASE CONFIGURATION
# ============================================================================
# PostgreSQL (Production/Staging)
POSTGRES_DB=birds
POSTGRES_USER=birds_user
POSTGRES_PASSWORD=your_secure_password_here

# Database URLs (automatically constructed from above, or override)
DATABASE_URL=postgresql://${POSTGRES_USER}:${POSTGRES_PASSWORD}@postgres:5432/${POSTGRES_DB}

# For development with SQLite (comment out PostgreSQL settings above)
# DATABASE_URL=sqlite:///./data/birds_unified.db

# ============================================================================
# REDIS CONFIGURATION
# ============================================================================
REDIS_URL=redis://redis:6379

# ============================================================================
# API CONFIGURATION
# ============================================================================
# Ingest Service
CORNELL_CAM_URL=https://www.youtube.com/watch?v=x10vL6_47Dw
SAMPLE_INTERVAL=10
AUDIO_DURATION=5

# Recognition Services
MIN_CONFIDENCE=0.6

# ============================================================================
# EXTERNAL SERVICE KEYS
# ============================================================================
# OpenAI API for story generation
OPENAI_API_KEY=your_openai_api_key_here

# SendGrid for email notifications
SENDGRID_API_KEY=your_sendgrid_api_key_here

# Web Push Notifications (generate with: npm run generate-vapid-keys)
WEBPUSH_VAPID_PUBLIC_KEY=your_vapid_public_key_here
WEBPUSH_VAPID_PRIVATE_KEY=your_vapid_private_key_here
WEBPUSH_VAPID_EMAIL=your_email@example.com

# ============================================================================
# FRONTEND CONFIGURATION
# ============================================================================
# API endpoints (for frontend build)
VITE_API_BASE_URL=http://localhost:8001
VITE_STORY_ENGINE_URL=http://localhost:8005
VITE_AGGREGATOR_URL=http://localhost:8004

# ============================================================================
# MONITORING & OBSERVABILITY
# ============================================================================
# Grafana admin password
GRAFANA_ADMIN_PASSWORD=admin

# ============================================================================
# SECURITY SETTINGS
# ============================================================================
# JWT secret for authentication (generate a secure random string)
JWT_SECRET=your_jwt_secret_here

# CORS allowed origins (comma-separated)
CORS_ORIGINS=http://localhost:3000,http://localhost:80

# ============================================================================
# DEPLOYMENT SETTINGS
# ============================================================================
# Docker image registry
REGISTRY=ghcr.io
IMAGE_TAG=latest

# Deployment hosts (for CI/CD)
STAGING_HOST=staging.birds.example.com
PRODUCTION_HOST=birds.example.com

# SSL/TLS configuration
SSL_ENABLED=false
SSL_CERT_PATH=/etc/nginx/ssl/cert.pem
SSL_KEY_PATH=/etc/nginx/ssl/key.pem

# ============================================================================
# OPTIONAL FEATURES
# ============================================================================
# Enable/disable specific features
FEATURE_NOTIFICATIONS=true
FEATURE_USER_ACCOUNTS=true
FEATURE_ANALYTICS=true

# Rate limiting
RATE_LIMIT_ENABLED=true
RATE_LIMIT_WINDOW=900  # 15 minutes in seconds
RATE_LIMIT_MAX_REQUESTS=100

# File upload limits
MAX_FILE_SIZE=10485760  # 10MB in bytes
ALLOWED_FILE_TYPES=jpg,jpeg,png,wav,mp3

# ============================================================================
# DEVELOPMENT SETTINGS (only for development environment)
# ============================================================================
# Debug ports for remote debugging
DEBUG_PORT_SAMPLER=5678
DEBUG_PORT_AGGREGATOR=5679
DEBUG_PORT_STORY_ENGINE=5680

# Hot reloading
ENABLE_HOT_RELOAD=true
CHOKIDAR_USEPOLLING=true